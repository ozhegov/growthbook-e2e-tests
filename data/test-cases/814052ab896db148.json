{"uid":"814052ab896db148","name":"Пользователь с ролью инженера имеет доступ только на просмотр запущенного эксперимента @role=engineer @regression @mock","fullName":"experiments/permissions.test.ts:6:5","historyId":"45d8cc063e850da7e3a0855ae0527e65:574427cf54df0d937a24100ea290be6b","time":{"start":1771467368617,"stop":1771467399045,"duration":30428},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1771467368623,"stop":1771467374090,"duration":5467},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1771467368641,"stop":1771467368738,"duration":97},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1771467368646,"stop":1771467368738,"duration":92},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"role\"","time":{"start":1771467368739,"stop":1771467368761,"duration":22},"status":"passed","steps":[{"name":"Allure Metadata (metadata)","time":{"start":1771467368760,"stop":1771467368760,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1771467368762,"stop":1771467368840,"duration":78},"status":"passed","steps":[{"name":"Create context","time":{"start":1771467368765,"stop":1771467368835,"duration":70},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1771467368840,"stop":1771467374031,"duration":5191},"status":"passed","steps":[{"name":"Create page","time":{"start":1771467368841,"stop":1771467374030,"duration":5189},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"mock\"","time":{"start":1771467374031,"stop":1771467374035,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1771467374036,"stop":1771467374088,"duration":52},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"experimentPagePOM\"","time":{"start":1771467374088,"stop":1771467374090,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Задать статус \"running\" для мок-эксперимента","time":{"start":1771467374096,"stop":1771467374096,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Под ролью инженера перейти на страницу запущенного эксперимента \"/experiment/exp_mock_running\"","time":{"start":1771467374099,"stop":1771467378922,"duration":4823},"status":"passed","steps":[{"name":"Navigate to \"/experiment/exp_mock_running\"","time":{"start":1771467374107,"stop":1771467378921,"duration":4814},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выполнить проверки на странице:","time":{"start":1771467378923,"stop":1771467383456,"duration":4533},"status":"passed","steps":[{"name":"Отображается бейдж с текстом \"Running\"","time":{"start":1771467378935,"stop":1771467381525,"duration":2590},"status":"passed","steps":[{"name":"Expect \"toBeVisible\" getByRole('main').getByText('Running')","time":{"start":1771467379053,"stop":1771467381524,"duration":2471},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Не отображается кнопка \"Make Changes\"","time":{"start":1771467381525,"stop":1771467383098,"duration":1573},"status":"passed","steps":[{"name":"Expect \"toBeHidden\" getByRole('main').getByRole('button', { name: 'Make Changes' })","time":{"start":1771467381536,"stop":1771467383088,"duration":1552},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Не отображается кнопка \"Stop Experiment\"","time":{"start":1771467383099,"stop":1771467383456,"duration":357},"status":"passed","steps":[{"name":"Expect \"toBeHidden\" getByRole('main').getByRole('button', { name: 'Stop Experiment' })","time":{"start":1771467383110,"stop":1771467383456,"duration":346},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажать на иконку дополнительных действий","time":{"start":1771467383465,"stop":1771467399170,"duration":15705},"status":"failed","statusMessage":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n","statusTrace":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/base.pom.ts:49:20)\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/pages/experiment.pom.ts:151:17)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:39:29)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:48)\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:56)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:23)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at AllurePlaywrightTestRuntime.apply (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at AllurePlaywrightTestRuntime.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:12:13)\n    at callRuntimeMethod (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:21:27)\n    at Object.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:10)\n    at step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/helpers/allure.ts:56:17)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:38:13","steps":[{"name":"Click getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()","time":{"start":1771467383499,"stop":1771467399169,"duration":15670},"status":"failed","statusMessage":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n","statusTrace":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/base.pom.ts:49:20)\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/pages/experiment.pom.ts:151:17)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:39:29)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:48)\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:56)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:23)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at AllurePlaywrightTestRuntime.apply (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at AllurePlaywrightTestRuntime.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:12:13)\n    at callRuntimeMethod (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:21:27)\n    at Object.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:10)\n    at step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/helpers/allure.ts:56:17)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:38:13","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"screenshot","time":{"start":1771467399382,"stop":1771467399382,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"545dfa0160e1b5e2","name":"screenshot","source":"545dfa0160e1b5e2.png","type":"image/png","size":58369}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"error-context","time":{"start":1771467399383,"stop":1771467399383,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"68cc0221a06d8fca","name":"error-context","source":"68cc0221a06d8fca.md","type":"text/markdown","size":748}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"trace","time":{"start":1771467399383,"stop":1771467399383,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"4e322a3860dda263","name":"trace","source":"4e322a3860dda263.zip","type":"application/vnd.allure.playwright-trace","size":464180}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"After Hooks","time":{"start":1771467398743,"stop":1771467399180,"duration":437},"status":"passed","steps":[{"name":"Fixture \"experimentPagePOM\"","time":{"start":1771467398940,"stop":1771467398940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1771467398940,"stop":1771467398940,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"mock\"","time":{"start":1771467398941,"stop":1771467398941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1771467398941,"stop":1771467398941,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1771467398942,"stop":1771467399172,"duration":230},"status":"passed","steps":[{"name":"Close context","time":{"start":1771467399164,"stop":1771467399171,"duration":7},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"role\"","time":{"start":1771467399172,"stop":1771467399172,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":35,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"ALLURE_ID","value":"122004"},{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"experiments.permissions.test.ts"},{"name":"titlePath","value":" > webkit > experiments/permissions.test.ts"},{"name":"tag","value":"allure.id=122004"},{"name":"tag","value":"role=engineer"},{"name":"tag","value":"regression"},{"name":"tag","value":"mock"},{"name":"tag","value":"regression"},{"name":"tag","value":"permissions"},{"name":"tag","value":"experiment"},{"name":"host","value":"runnervmjduv7"},{"name":"thread","value":"pid-6779-worker-0"},{"name":"parentSuite","value":"webkit"},{"name":"suite","value":"experiments/permissions.test.ts"},{"name":"owner","value":"ozhegovmv"},{"name":"backend","value":"mock"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"webkit"},{"name":"role","value":"engineer"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["role=engineer","allure.id=122004","experiment","regression","permissions","mock"]},"source":"814052ab896db148.json","parameterValues":["webkit","engineer"]}