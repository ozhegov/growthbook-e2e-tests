{"uid":"b649aa9ca9ad972e","name":"Пользователь с ролью инженера имеет доступ только на просмотр запущенного эксперимента @role=engineer @regression @mock","fullName":"experiments/permissions.test.ts:6:5","historyId":"45d8cc063e850da7e3a0855ae0527e65:574427cf54df0d937a24100ea290be6b","time":{"start":1769542733560,"stop":1769542763933,"duration":30373},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1769542733562,"stop":1769542739639,"duration":6077},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1769542733581,"stop":1769542734426,"duration":845},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1769542733586,"stop":1769542734419,"duration":833},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"role\"","time":{"start":1769542734427,"stop":1769542734475,"duration":48},"status":"passed","steps":[{"name":"Allure Metadata (metadata)","time":{"start":1769542734471,"stop":1769542734471,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1769542734477,"stop":1769542734698,"duration":221},"status":"passed","steps":[{"name":"Create context","time":{"start":1769542734513,"stop":1769542734693,"duration":180},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769542734699,"stop":1769542739583,"duration":4884},"status":"passed","steps":[{"name":"Create page","time":{"start":1769542734701,"stop":1769542739583,"duration":4882},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"mock\"","time":{"start":1769542739589,"stop":1769542739590,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769542739593,"stop":1769542739636,"duration":43},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"experimentPagePOM\"","time":{"start":1769542739637,"stop":1769542739639,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Задать статус \"running\" для мок-эксперимента","time":{"start":1769542739660,"stop":1769542739665,"duration":5},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Под ролью инженера перейти на страницу запущенного эксперимента \"/experiment/exp_mock_running\"","time":{"start":1769542739666,"stop":1769542743886,"duration":4220},"status":"passed","steps":[{"name":"Navigate to \"/experiment/exp_mock_running\"","time":{"start":1769542739675,"stop":1769542743885,"duration":4210},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выполнить проверки на странице:","time":{"start":1769542743900,"stop":1769542747834,"duration":3934},"status":"passed","steps":[{"name":"Отображается бейдж с текстом \"Running\"","time":{"start":1769542743911,"stop":1769542747083,"duration":3172},"status":"passed","steps":[{"name":"Expect \"toBeVisible\" getByRole('main').getByText('Running')","time":{"start":1769542743932,"stop":1769542747077,"duration":3145},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Не отображается кнопка \"Make Changes\"","time":{"start":1769542747084,"stop":1769542747389,"duration":305},"status":"passed","steps":[{"name":"Expect \"toBeHidden\" getByRole('main').getByRole('button', { name: 'Make Changes' })","time":{"start":1769542747105,"stop":1769542747389,"duration":284},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Не отображается кнопка \"Stop Experiment\"","time":{"start":1769542747390,"stop":1769542747834,"duration":444},"status":"passed","steps":[{"name":"Expect \"toBeHidden\" getByRole('main').getByRole('button', { name: 'Stop Experiment' })","time":{"start":1769542747402,"stop":1769542747834,"duration":432},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажать на иконку дополнительных действий","time":{"start":1769542747835,"stop":1769542764809,"duration":16974},"status":"failed","statusMessage":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:rl:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n","statusTrace":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:rl:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/base.pom.ts:49:20)\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/pages/experiment.pom.ts:151:17)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:39:29)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:48)\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:56)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:23)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at AllurePlaywrightTestRuntime.apply (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at AllurePlaywrightTestRuntime.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:12:13)\n    at callRuntimeMethod (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:21:27)\n    at Object.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:10)\n    at step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/helpers/allure.ts:56:17)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:38:13","steps":[{"name":"Click getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()","time":{"start":1769542747860,"stop":1769542764808,"duration":16948},"status":"failed","statusMessage":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:rl:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n","statusTrace":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:rl:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/base.pom.ts:49:20)\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/pages/experiment.pom.ts:151:17)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:39:29)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:48)\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:56)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:23)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at AllurePlaywrightTestRuntime.apply (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at AllurePlaywrightTestRuntime.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:12:13)\n    at callRuntimeMethod (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:21:27)\n    at Object.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:10)\n    at step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/helpers/allure.ts:56:17)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:38:13","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"screenshot","time":{"start":1769542765031,"stop":1769542765032,"duration":1},"status":"unknown","steps":[],"attachments":[{"uid":"15ba0efc5b1e3f4","name":"screenshot","source":"15ba0efc5b1e3f4.png","type":"image/png","size":58331}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"error-context","time":{"start":1769542765032,"stop":1769542765032,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"5e7d24b2891d066f","name":"error-context","source":"5e7d24b2891d066f.md","type":"text/markdown","size":748}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"trace","time":{"start":1769542765032,"stop":1769542765032,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"b16114b111814891","name":"trace","source":"b16114b111814891.zip","type":"application/vnd.allure.playwright-trace","size":474384}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"After Hooks","time":{"start":1769542764440,"stop":1769542764823,"duration":383},"status":"passed","steps":[{"name":"Fixture \"experimentPagePOM\"","time":{"start":1769542764638,"stop":1769542764638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769542764638,"stop":1769542764639,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"mock\"","time":{"start":1769542764639,"stop":1769542764639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769542764639,"stop":1769542764639,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1769542764639,"stop":1769542764811,"duration":172},"status":"passed","steps":[{"name":"Close context","time":{"start":1769542764803,"stop":1769542764811,"duration":8},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"role\"","time":{"start":1769542764811,"stop":1769542764811,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":35,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"ALLURE_ID","value":"122004"},{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"experiments.permissions.test.ts"},{"name":"titlePath","value":" > webkit > experiments/permissions.test.ts"},{"name":"tag","value":"allure.id=122004"},{"name":"tag","value":"role=engineer"},{"name":"tag","value":"regression"},{"name":"tag","value":"mock"},{"name":"tag","value":"regression"},{"name":"tag","value":"permissions"},{"name":"tag","value":"experiment"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"pid-6283-worker-1"},{"name":"parentSuite","value":"webkit"},{"name":"suite","value":"experiments/permissions.test.ts"},{"name":"owner","value":"ozhegovmv"},{"name":"backend","value":"mock"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"webkit"},{"name":"role","value":"engineer"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["role=engineer","allure.id=122004","experiment","regression","permissions","mock"]},"source":"b649aa9ca9ad972e.json","parameterValues":["webkit","engineer"]}