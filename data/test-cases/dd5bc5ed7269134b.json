{"uid":"dd5bc5ed7269134b","name":"Пользователь с ролью инженера имеет доступ только на просмотр запущенного эксперимента @role=engineer @regression @mock","fullName":"experiments/permissions.test.ts:6:5","historyId":"45d8cc063e850da7e3a0855ae0527e65:574427cf54df0d937a24100ea290be6b","time":{"start":1769544387703,"stop":1769544418008,"duration":30305},"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[],"testStage":{"status":"broken","statusMessage":"Test timeout of 30000ms exceeded.","statusTrace":"Test timeout of 30000ms exceeded.","steps":[{"name":"Before Hooks","time":{"start":1769544387708,"stop":1769544388484,"duration":776},"status":"passed","steps":[{"name":"Fixture \"browser\"","time":{"start":1769544387728,"stop":1769544387861,"duration":133},"status":"passed","steps":[{"name":"Launch browser","time":{"start":1769544387734,"stop":1769544387860,"duration":126},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"role\"","time":{"start":1769544387861,"stop":1769544387882,"duration":21},"status":"passed","steps":[{"name":"Allure Metadata (metadata)","time":{"start":1769544387881,"stop":1769544387881,"duration":0},"status":"unknown","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1769544387883,"stop":1769544388013,"duration":130},"status":"passed","steps":[{"name":"Create context","time":{"start":1769544387886,"stop":1769544387992,"duration":106},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769544388014,"stop":1769544388401,"duration":387},"status":"passed","steps":[{"name":"Create page","time":{"start":1769544388016,"stop":1769544388401,"duration":385},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"mock\"","time":{"start":1769544388402,"stop":1769544388406,"duration":4},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769544388408,"stop":1769544388481,"duration":73},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"experimentPagePOM\"","time":{"start":1769544388482,"stop":1769544388483,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":11,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Задать статус \"running\" для мок-эксперимента","time":{"start":1769544388497,"stop":1769544388499,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Под ролью инженера перейти на страницу запущенного эксперимента \"/experiment/exp_mock_running\"","time":{"start":1769544388500,"stop":1769544391901,"duration":3401},"status":"passed","steps":[{"name":"Navigate to \"/experiment/exp_mock_running\"","time":{"start":1769544388506,"stop":1769544391901,"duration":3395},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Выполнить проверки на странице:","time":{"start":1769544391917,"stop":1769544395239,"duration":3322},"status":"passed","steps":[{"name":"Отображается бейдж с текстом \"Running\"","time":{"start":1769544391937,"stop":1769544394114,"duration":2177},"status":"passed","steps":[{"name":"Expect \"toBeVisible\" getByRole('main').getByText('Running')","time":{"start":1769544391971,"stop":1769544394114,"duration":2143},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Не отображается кнопка \"Make Changes\"","time":{"start":1769544394115,"stop":1769544394631,"duration":516},"status":"passed","steps":[{"name":"Expect \"toBeHidden\" getByRole('main').getByRole('button', { name: 'Make Changes' })","time":{"start":1769544394130,"stop":1769544394630,"duration":500},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Не отображается кнопка \"Stop Experiment\"","time":{"start":1769544394631,"stop":1769544395236,"duration":605},"status":"passed","steps":[{"name":"Expect \"toBeHidden\" getByRole('main').getByRole('button', { name: 'Stop Experiment' })","time":{"start":1769544394646,"stop":1769544395236,"duration":590},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":6,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Нажать на иконку дополнительных действий","time":{"start":1769544395240,"stop":1769544418169,"duration":22929},"status":"failed","statusMessage":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:r5:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n","statusTrace":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:r5:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/base.pom.ts:49:20)\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/pages/experiment.pom.ts:151:17)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:39:29)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:48)\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:56)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:23)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at AllurePlaywrightTestRuntime.apply (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at AllurePlaywrightTestRuntime.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:12:13)\n    at callRuntimeMethod (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:21:27)\n    at Object.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:10)\n    at step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/helpers/allure.ts:56:17)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:38:13","steps":[{"name":"Click getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()","time":{"start":1769544395264,"stop":1769544418169,"duration":22905},"status":"failed","statusMessage":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:r5:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n","statusTrace":"Error: locator.click: Target page, context or browser has been closed\nCall log:\n  - waiting for getByRole('main').locator('button[aria-haspopup=\"menu\"]').first()\n    - locator resolved to <button type=\"button\" id=\"radix-:r5:\" data-radius=\"full\" data-state=\"closed\" aria-haspopup=\"menu\" aria-expanded=\"false\" data-accent-color=\"gray\" class=\"rt-reset rt-BaseButton rt-r-size-3 rt-variant-ghost rt-high-contrast rt-r-ml-2 rt-IconButton\">…</button>\n  - attempting click action\n    - waiting for element to be visible, enabled and stable\n  - element was detached from the DOM, retrying\n\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/base.pom.ts:49:20)\n    at ExperimentPagePOM.openActionMenu (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/poms/pages/experiment.pom.ts:151:17)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:39:29)\n    at body (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:48)\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:56)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at call (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:13:23)\n    at Generator._invoke (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at Generator.next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at asyncGeneratorStep (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at _next (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1\n    at AllurePlaywrightTestRuntime.apply (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:2:1)\n    at AllurePlaywrightTestRuntime.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-playwright/src/runtime.ts:12:13)\n    at callRuntimeMethod (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:21:27)\n    at Object.step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/node_modules/allure-js-commons/src/facade.ts:113:10)\n    at step (/home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/helpers/allure.ts:56:17)\n    at /home/runner/work/growthbook-e2e-tests/growthbook-e2e-tests/e2e/tests/experiments/permissions.test.ts:38:13","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"screenshot","time":{"start":1769544418354,"stop":1769544418354,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"8d9057fdd0ce8db5","name":"screenshot","source":"8d9057fdd0ce8db5.png","type":"image/png","size":58847}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"error-context","time":{"start":1769544418354,"stop":1769544418354,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"ea8fdd743276b4f2","name":"error-context","source":"ea8fdd743276b4f2.md","type":"text/markdown","size":748}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"trace","time":{"start":1769544418354,"stop":1769544418354,"duration":0},"status":"unknown","steps":[],"attachments":[{"uid":"ef00c11f4988b916","name":"trace","source":"ef00c11f4988b916.zip","type":"application/vnd.allure.playwright-trace","size":447941}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":true},{"name":"After Hooks","time":{"start":1769544417865,"stop":1769544418190,"duration":325},"status":"passed","steps":[{"name":"Fixture \"experimentPagePOM\"","time":{"start":1769544418049,"stop":1769544418049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769544418049,"stop":1769544418049,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"mock\"","time":{"start":1769544418050,"stop":1769544418050,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"page\"","time":{"start":1769544418050,"stop":1769544418050,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"Fixture \"context\"","time":{"start":1769544418050,"stop":1769544418170,"duration":120},"status":"passed","steps":[{"name":"Close context","time":{"start":1769544418164,"stop":1769544418170,"duration":6},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":1,"attachmentsCount":0,"hasContent":true,"attachmentStep":false},{"name":"Fixture \"role\"","time":{"start":1769544418175,"stop":1769544418175,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":7,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":35,"attachmentsCount":3,"hasContent":true,"attachmentStep":false},"afterStages":[],"labels":[{"name":"ALLURE_ID","value":"122004"},{"name":"language","value":"javascript"},{"name":"framework","value":"playwright"},{"name":"package","value":"experiments.permissions.test.ts"},{"name":"titlePath","value":" > webkit > experiments/permissions.test.ts"},{"name":"tag","value":"allure.id=122004"},{"name":"tag","value":"role=engineer"},{"name":"tag","value":"regression"},{"name":"tag","value":"mock"},{"name":"tag","value":"regression"},{"name":"tag","value":"permissions"},{"name":"tag","value":"experiment"},{"name":"host","value":"runnervmymu0l"},{"name":"thread","value":"pid-6266-worker-1"},{"name":"parentSuite","value":"webkit"},{"name":"suite","value":"experiments/permissions.test.ts"},{"name":"owner","value":"ozhegovmv"},{"name":"backend","value":"mock"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"Project","value":"webkit"},{"name":"role","value":"engineer"}],"links":[],"hidden":true,"retry":true,"extra":{"categories":[],"tags":["role=engineer","allure.id=122004","experiment","regression","permissions","mock"]},"source":"dd5bc5ed7269134b.json","parameterValues":["webkit","engineer"]}